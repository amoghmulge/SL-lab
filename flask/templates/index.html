<!DOCTYPE html>

<html>
	<head>
    	<title>ATM</title>
  	</head>

  	<body>

		<h1> ATM </h1>

		<h3> Your balance is : {{balance}} </h3> 

		<h5>{{msg}}</h5> 

		<form action="{{url_for('index')}}" method="POST" id="atm">
		 	Amount : <input name = "amount" type="number" required /><br>
			<input type="submit" name="action" value="Withdraw" onclick="return validateForm(this)">
			<input type="submit" name="action" value="Deposit" onclick="return validateForm(this)">
		</form>

		
		<script>
			function validateForm(button) 
			{
				var form = document.getElementById("atm");
	
				if (form.amount.value == "" ) {
					alert("Amount required");
					return false;
				}
				if (parseInt(form.amount.value) < 0) {
					alert("Cannot enter negative amount");
					return false;
				}
				
			
				if(button.value == "Withdraw" && parseInt(form.amount.value) > 5000)
				{
					alert("Cannot withdraw more than 5000");
			        return false;
				}
			
				if(button.value == "Deposit" && parseInt(form.amount.value) > 10000)
				{
					alert("Cannot deposit more than 10000");
			        return false;
				}
				return true;
			}
		</script>
	</body>

</html>
